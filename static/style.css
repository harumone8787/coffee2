:root {
  --bg: #0b1020;
  --card: #121833;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --accent: #3b82f6;    /* 青（検索ボタン用） */
  --secondary: #f59e0b; /* オレンジ（在庫一覧の主要ボタン用） */
  --danger: #ef4444;    /* 赤 */
  --ok: #10b981;        /* 緑 */
  --border: #1f2a4d;
}

* { box-sizing: border-box; }
body {
  margin: 0; background: var(--bg); color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Hiragino Kaku Gothic ProN', 'BIZ UDPGothic', sans-serif;
}
a { color: var(--accent); text-decoration: none; }

/* Navbar */
.navbar {
  display:flex; justify-content:space-between; align-items:center;
  padding: 12px 16px; background: #0a0f1f; position: sticky; top: 0; z-index: 20;
  border-bottom: 1px solid var(--border);
}
.brand { font-weight: 800; font-size: 18px; margin-right: 12px; }
.left { display:flex; align-items:center; gap: 8px; flex-wrap: wrap; }
.right { display:flex; align-items:center; gap: 10px; flex-wrap: wrap; }
.navbtn {
  background: var(--secondary); color: white; padding: 8px 12px; border-radius: 10px; font-weight: 700;
}
.navlink {
  padding: 6px 8px; border-radius: 8px; background: transparent; border: 1px solid transparent;
}
.navlink:hover { border-color: var(--border); background: rgba(255,255,255,0.04); }
.hello { color: var(--muted); }

/* Hamburger */
.hamburger {
  display:none;
  background: transparent; color: var(--text);
  border: 1px solid var(--border); border-radius: 8px;
  padding: 6px 10px; font-size: 18px; cursor: pointer;
}

/* Mobile menu (drawer) */
.mobile-menu {
  display:none;
  position: fixed; top: 56px; right: 12px;
  background: #0f1733; border: 1px solid var(--border); border-radius: 12px;
  padding: 10px; min-width: 210px; z-index: 25;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}
.mobile-menu.open { display:block; }
.mob-item { padding: 8px 10px; color: var(--muted); }
.mob-link {
  display:block; padding: 8px 10px; border-radius: 8px; color: var(--text);
}
.mob-link:hover { background: rgba(255,255,255,0.05); }

/* Layout */
.container { max-width: 1100px; margin: 24px auto; padding: 0 16px; }
h1, h2 { margin: 8px 0 12px; }

/* Buttons / Forms */
.button {
  background: var(--secondary); color: white; border: none; padding: 10px 14px;
  border-radius: 10px; cursor: pointer; font-weight: 600; display:inline-block;
}
.button-accent {
  background: var(--accent);
  color: white;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
}
.button-secondary {
  background: var(--secondary);
  color: white;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
}
.form, .grid-form {
  background: var(--card); padding: 16px; border-radius: 12px; border: 1px solid var(--border);
  display: grid; gap: 12px;
}
.form input, .grid-form input, .grid-form select {
  width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #2c3e70;
  background: #0f1733; color: var(--text);
}
.grid-form { grid-template-columns: repeat(2, 1fr); }
.grid-form .full { grid-column: span 2; }
.mt-2 { margin-top: 12px; }
.mt-3 { margin-top: 18px; }
.toolbar { display:flex; gap: 8px; flex-wrap: wrap; margin: 8px 0 12px; }
.filter-form { margin-bottom: 10px; }

/* Tables */
.table-responsive { width: 100%; overflow-x: auto; border-radius: 12px; border: 1px solid var(--border); }
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { padding: 10px 12px; border-bottom:1px solid var(--border); white-space: nowrap; }
.table thead { background: #0f1733; }
.text-red { color: var(--danger); font-weight: 700; }
tr.low { background: rgba(239, 68, 68, 0.08); }
.cell-name { max-width: 420px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Icon colors */
.icon-in { color: var(--ok); font-weight: bold; }        /* 入庫＝緑 */
.icon-out { color: var(--danger); font-weight: bold; }   /* 出庫＝赤 */

/* 管理者とスタッフ */
.icon-admin { color: #eab308; font-weight: bold; }  /* 管理者＝黄色 */
.icon-staff { color: #3b82f6; font-weight: bold; }  /* スタッフ＝青 */

/* Badges */
.badge {
  display:inline-block; padding: 3px 8px; border-radius: 999px; font-size: 12px; font-weight: 700;
}
.badge-blue { background: rgba(59,130,246,0.15); color: #93c5fd; border: 1px solid rgba(59,130,246,0.35); }
.badge-green { background: rgba(16,185,129,0.15); color: #6ee7b7; border: 1px solid rgba(16,185,129,0.35); }
.badge-gray { background: rgba(156,163,175,0.15); color: #e5e7eb; border: 1px solid rgba(156,163,175,0.35); }
.badge-red { background: rgba(239,68,68,0.15); color: #fecaca; border: 1px solid rgba(239,68,68,0.35); }

/* Flash */
.flashes { list-style:none; padding:0; margin: 0 0 12px 0; }
.flash { padding:10px 12px; border-radius: 8px; margin-bottom: 8px; }
.flash.info { background: #0b3b4d; }
.flash.success { background: #0f3b1f; }
.flash.warning { background: #4d3b0b; }
.flash.danger { background: #4d0b0b; }

/* === 最新履歴：モバイルカードUI === */
.history-cards { display:none; }
.only-desktop { display:block; }
.only-mobile { display:none; }

.history-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 10px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}
.history-row {
  display:flex; align-items:center; justify-content: space-between;
  gap: 8px; padding: 6px 0;
}
.history-row.top { padding-top: 2px; padding-bottom: 8px; border-bottom: 1px dashed var(--border); margin-bottom: 6px; }
.history-row .label {
  font-size: 12px; color: var(--muted); min-width: 56px;
}
.history-row .value { font-size: 15px; }
.value-strong { font-weight: 700; font-size: 16px; }
.qty { font-weight: 800; letter-spacing: 0.2px; }
.qty-in { color: var(--ok); }
.qty-out { color: var(--danger); }
.unit.muted { color: var(--muted); margin-left: 6px; }
.who { margin-left: 6px; }
.pill {
  display:inline-block; font-weight: 800; padding: 4px 10px; border-radius: 999px; font-size: 12px;
  border: 1px solid transparent;
}
.pill-in { background: rgba(16,185,129,0.17); color: #6ee7b7; border-color: rgba(16,185,129,0.35); }
.pill-out { background: rgba(239,68,68,0.17); color: #fecaca; border-color: rgba(239,68,68,0.35); }
.history-row .time { color: var(--muted); font-size: 12px; }

/* Responsive */
@media (max-width: 900px) {
  .nav-desktop { display:none; }
  .hamburger { display:block; }
}

@media (max-width: 780px) {
  .grid-form { grid-template-columns: 1fr; }
  .grid-form .full { grid-column: 1; }
  .table th, .table td { padding: 10px 8px; }
  .brand { font-size: 16px; }
  .navbtn { padding: 8px 10px; }
  .button, .button-accent, .button-secondary { padding: 9px 12px; }
  .cell-name { max-width: 240px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
}

@media (max-width: 640px) {
  /* スマホ：履歴はカードUIに切替 */
  .only-desktop { display:none; }
  .only-mobile { display:block; }
  .history-cards { display:block; }
}

@media (max-width: 420px) {
  .hello { display:none; }
}
